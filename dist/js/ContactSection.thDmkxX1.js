import{j as e}from"./ui-vendor.Cr0a_QLz.js";import{r as t}from"./react-vendor.DLPRJx9T.js";import{C as s}from"./card.Bta0xwCM.js";import{B as a}from"./button.CwQkHdGN.js";import{I as r,T as n}from"./textarea.STgdp43p.js";import{u as i,d as l}from"./IndexOptimized.Bu0CBrWU.js";import{P as o,p as c,x as d,d as m,y as x,n as h,k as p,q as u,e as g}from"./utils.DMNqCBYd.js";import"./index.Bw955bGW.js";const j=t.memo(()=>{const{getConfig:j}=i(),b=j("PHONE",l.PHONE),f=j("EMAIL",l.EMAIL),N=j("ADDRESS_HQ",l.ADDRESS_HQ),v=j("BRANCH_NAME",l.BRANCH_NAME),y=j("ADDRESS_BRANCH",l.ADDRESS_BRANCH),w=j("WEEKDAY_HOURS",l.WEEKDAY_HOURS),E=j("EMERGENCY_HOURS",l.EMERGENCY_HOURS),S=t.useMemo(()=>[{icon:o,title:"전화 상담",content:b,description:w,action:`tel:${b}`,highlight:!0},{icon:c,title:"이메일 문의",content:f,description:"24시간 접수 가능",action:`mailto:${f}`},{icon:d,title:"본사",content:N.split(",")[0]||N,description:N.split(",")[1]||""},{icon:d,title:v,content:y.split(",")[0]||y,description:y.split(",")[1]||""},{icon:m,title:"영업 시간",content:"연중무휴",description:E}],[b,f,N,v,y,w,E]),[C,k]=t.useState({name:"",phone:"",email:"",content:""}),[R,A]=t.useState({}),[D,H]=t.useState(!1),[$,_]=t.useState(!1),O=t.useCallback(e=>{const{name:t,value:s}=e.target;k(e=>({...e,[t]:s})),A(e=>({...e,[t]:""}))},[]),M=t.useCallback(e=>{const t=e.target.value.replace(/[^0-9]/g,"");let s=t;t.length>3&&t.length<=7?s=`${t.slice(0,3)}-${t.slice(3)}`:t.length>7&&(s=`${t.slice(0,3)}-${t.slice(3,7)}-${t.slice(7,11)}`),k(e=>({...e,phone:s})),A(e=>({...e,phone:""}))},[]),q=t.useCallback(()=>{const e={};return C.name.trim()||(e.name="이름을 입력해주세요"),C.phone.trim()?/^[0-9-]{10,13}$/.test(C.phone.replace(/-/g,""))||(e.phone="올바른 연락처를 입력해주세요"):e.phone="연락처를 입력해주세요",C.content.trim()||(e.content="문의 내용을 입력해주세요"),A(e),0===Object.keys(e).length},[C]),B=t.useCallback(async e=>{if(e.preventDefault(),q()){H(!0);try{const e="http://ksm1779.cafe24.com/cnsltReg.do",t=new URLSearchParams;t.append("nm",C.name),t.append("tel1",C.phone.replace(/-/g,"")),C.email&&t.append("email",C.email),t.append("inqryCn",C.content),t.append("svcCnCd","000");const s=await fetch(`${e}?${t.toString()}`,{method:"POST"});if(!s.ok)throw new Error("Failed to submit inquiry");const a=s.headers.get("content-type");if(a&&a.includes("application/json")){const e=await s.json();if("true"===e.isError)throw new Error(e.excpMsg||"문의 전송에 실패했습니다.")}_(!0),k({name:"",phone:"",email:"",content:""}),setTimeout(()=>{_(!1)},3e3)}catch(t){alert("문의 전송에 실패했습니다. 다시 시도해주세요.")}finally{H(!1)}}},[C,q]);return e.jsxs("section",{id:"contact",className:"section-padding bg-background relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-full bg-organic opacity-30"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),e.jsxs("div",{className:"container mx-auto px-6 relative",children:[e.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full mb-6",children:[e.jsx(x,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"text-sm font-medium text-primary",children:"CS 센터"})]}),e.jsxs("h2",{className:"text-headline mb-6",children:["고객님과 함께하는"," ",e.jsx("span",{className:"text-gradient",children:"케어빌"})]}),e.jsx("p",{className:"text-body-lg text-muted-foreground",children:"편리한 상담 채널로 언제든지 문의하세요. 전문 상담사가 친절하게 도와드립니다"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto items-stretch",children:[e.jsx("div",{className:"flex",children:e.jsxs(s,{className:"p-8 rounded-2xl border-border/50 bg-card flex-1",id:"quick-inquiry",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-title mb-2",children:"빠른 문의"}),e.jsx("p",{className:"text-muted-foreground",children:"문의 내용을 남겨주시면 빠르게 연락드리겠습니다"})]}),$?e.jsxs("div",{className:"py-12 text-center",role:"status","aria-live":"polite",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(h,{className:"w-8 h-8 text-green-600"})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"문의가 접수되었습니다!"}),e.jsx("p",{className:"text-muted-foreground",children:"빠른 시일 내에 연락드리겠습니다."})]}):e.jsxs("form",{onSubmit:B,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block",children:["이름 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(r,{name:"name",value:C.name,onChange:O,placeholder:"홍길동",className:"h-12 rounded-xl border-border/50 focus:border-primary "+(R.name?"border-red-500":"")}),R.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block",children:["연락처 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(r,{name:"phone",value:C.phone,onChange:M,placeholder:"010-1234-5678",type:"tel",maxLength:13,className:"h-12 rounded-xl border-border/50 focus:border-primary "+(R.phone?"border-red-500":"")}),R.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.phone})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"이메일"}),e.jsx(r,{name:"email",value:C.email,onChange:O,placeholder:"example@email.com",type:"email",className:"h-12 rounded-xl border-border/50 focus:border-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block",children:["문의 내용 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(n,{name:"content",value:C.content,onChange:O,placeholder:"문의하실 내용을 자세히 입력해주세요",className:"min-h-[140px] rounded-xl border-border/50 focus:border-primary resize-none "+(R.content?"border-red-500":"")}),R.content&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.content})]}),e.jsx(a,{type:"submit",disabled:D,className:"w-full h-14 rounded-xl bg-primary hover:bg-primary-dark text-white font-medium text-base transition-all duration-300 group disabled:opacity-70",children:D?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"w-5 h-5 mr-2 animate-spin"}),"전송 중..."]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-5 h-5 mr-2"}),"문의 전송",e.jsx(g,{className:"w-4 h-4 ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]})]})}),e.jsx("div",{className:"flex flex-col gap-2",children:S.map((t,a)=>e.jsx(s,{className:"group p-3 rounded-xl border-border/50 transition-all duration-300 hover:shadow-md hover:-translate-y-0.5 flex-1 flex items-center "+(t.highlight?"bg-primary text-white":"bg-card hover:border-primary/30"),style:{animationDelay:100*a+"ms"},children:t.action?e.jsxs("a",{href:t.action,className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 transition-colors duration-300 "+(t.highlight?"bg-white/20":"bg-primary/10 group-hover:bg-primary/20"),children:e.jsx(t.icon,{className:"h-5 w-5 "+(t.highlight?"text-white":"text-primary")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs font-medium "+(t.highlight?"text-white/80":"text-muted-foreground"),children:t.title}),e.jsx("p",{className:"text-sm font-bold truncate "+(t.highlight?"text-white":"text-foreground"),children:t.content}),e.jsx("p",{className:"text-xs truncate "+(t.highlight?"text-white/70":"text-muted-foreground"),children:t.description})]}),e.jsx(g,{className:"w-4 h-4 flex-shrink-0 transition-all duration-300 "+(t.highlight?"text-white/50 group-hover:text-white group-hover:translate-x-1":"text-muted-foreground opacity-0 group-hover:opacity-100 group-hover:translate-x-1")})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0 group-hover:bg-primary/20 transition-colors duration-300",children:e.jsx(t.icon,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-xs font-medium text-muted-foreground",children:t.title}),e.jsx("p",{className:"text-sm font-bold text-foreground truncate",children:t.content}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.description})]})]})},a))})]})]})]})});j.displayName="ContactSection";export{j as default};
