import{j as e,L as s,T as a,l as t,m as r,n as l}from"./ui-vendor.rB7TgaOL.js";import{S as i}from"./skeleton.CT-9Gesv.js";import{r as n}from"./react-vendor.DLPRJx9T.js";import{b as c,C as o,a as d,B as m,c as u,d as x,e as f}from"./IndexOptimized.BBzaUg9f.js";import{c as h}from"./index.C0HcyU15.js";import{S as p,k as j,g as v,C as N}from"./utils.BjlY2u5p.js";const g=r,b=n.forwardRef(({className:a,...t},r)=>e.jsx(s,{ref:r,className:h("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t}));b.displayName=s.displayName;const y=n.forwardRef(({className:s,...t},r)=>e.jsx(a,{ref:r,className:h("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));y.displayName=a.displayName;n.forwardRef(({className:s,...a},r)=>e.jsx(t,{ref:r,className:h("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})).displayName=t.displayName;const w=n.memo(()=>{const[s,a]=n.useState([]),[t,r]=n.useState([]),[h,w]=n.useState(""),[k,S]=n.useState([]),[C,E]=n.useState(!0),[R,z]=n.useState(null);n.useEffect(()=>{(async()=>{var e;E(!0),z(null);try{const s="http://ksm1779.cafe24.com/api/v1/category-products.do",t=await fetch(s,{method:"GET"});if(!t.ok){if(502===t.status)throw new Error("서버에 일시적인 문제가 발생했습니다. 잠시 후 다시 시도해주세요.");throw new Error(`서버 오류가 발생했습니다 (${t.status}). 관리자에게 문의해주세요.`)}const l=await t.json();a(null==l?void 0:l.categories);const i=null==(e=null==l?void 0:l.products)?void 0:e.map(e=>{try{const s=JSON.parse((null==e?void 0:e.serviceIncludes)||"[]");return{...e,features:s}}catch(s){return{...e,features:[]}}});r(i)}catch(s){const e=s instanceof Error?s.message:"데이터를 불러오는 중 오류가 발생했습니다. 네트워크 연결을 확인해주세요.";z(e),a([]),r([])}finally{w("001"),E(!1)}})()},[]),n.useEffect(()=>{const e=t.filter(e=>e.serviceCd===h);S(e)},[h,t]);const T=e=>{if(null==e||isNaN(Number(e)))return"";const[s,a]=String(e).split("."),t=Number(s).toLocaleString("ko-KR");return a?`${t}.${a}`:t};return e.jsx("section",{id:"pricing",className:"py-20 bg-gradient-to-b from-background to-accent/5",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[e.jsxs(c,{className:"mb-4",variant:"secondary",children:[e.jsx(p,{className:"w-3 h-3 mr-1"}),"명확한 가격 정책"]}),e.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["투명하고 ",e.jsx("span",{className:"text-primary",children:"합리적인 가격"})]}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"추가 비용 걱정 없는 정직한 가격 정책으로 신뢰를 드립니다. 모든 서비스 가격은 VAT 포함이며, 숨겨진 비용은 일체 없습니다."})]}),e.jsx(g,{defaultValue:"001",className:"w-full mb-8",children:e.jsx(b,{className:"flex flex-wrap justify-center w-full mx-auto gap-2 rounded-md bg-muted p-1",children:null==s?void 0:s.map((s,a)=>e.jsx(y,{value:null==s?void 0:s.serviceCd,onClick:()=>w(null==s?void 0:s.serviceCd),children:null==s?void 0:s.serviceNm},null==s?void 0:s.serviceCd))})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R?e.jsx("div",{className:"col-span-full",children:e.jsx(o,{className:"border-destructive/50 bg-destructive/5",children:e.jsx(d,{className:"p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:e.jsx(j,{className:"h-8 w-8 text-destructive"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"데이터 로드 실패"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:R}),e.jsx(m,{onClick:()=>window.location.reload(),variant:"outline",className:"border-destructive text-destructive hover:bg-destructive hover:text-white",children:"새로고침"})]})]})})})}):C?Array.from({length:3}).map((s,a)=>e.jsxs(o,{className:"h-full",children:[e.jsxs(u,{children:[e.jsx(i,{className:"h-6 w-3/4 mb-2"}),e.jsx(i,{className:"h-4 w-1/2"})]}),e.jsxs(d,{children:[e.jsx(i,{className:"h-8 w-1/3 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"h-4 w-full"}),e.jsx(i,{className:"h-4 w-full"}),e.jsx(i,{className:"h-4 w-full"})]}),e.jsx(i,{className:"h-10 w-full mt-6"})]})]},a)):0===(null==k?void 0:k.length)?e.jsx("div",{className:"col-span-full text-center py-10 text-muted-foreground",children:e.jsx("p",{className:"text-lg",children:"해당하는 서비스가 없습니다."})}):null==k?void 0:k.map((s,a)=>{var t;return e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*a},children:e.jsxs(o,{className:`relative h-full transition-all duration-300 hover:border-primary hover:shadow-xl ${s.popular,"border-gray-200"} group`,children:[s.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 z-10",children:e.jsxs(c,{className:"bg-primary text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx(v,{className:"w-3 h-3 mr-1 fill-current"}),"인기 서비스"]})}),e.jsxs(u,{className:"pb-4",children:[e.jsx(x,{className:"text-xl",children:s.productNm}),e.jsx(f,{className:"mt-2",children:s.productDesc})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-3xl font-bold text-foreground group-hover:text-primary transition-colors duration-300",children:[T(s.salePrice),"원"]}),e.jsxs("span",{className:"text-lg text-muted-foreground line-through",children:[T(s.originalPrice),"원"]}),"Y"===(null==s?void 0:s.saleYn)&&e.jsxs(c,{variant:"destructive",className:"ml-auto",children:[s.discountRate,"% 할인"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["소요시간: ",s.serviceTime]})]}),e.jsx("div",{className:"space-y-3 mb-6",children:null==(t=s.features)?void 0:t.map((s,a)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-gray-400 group-hover:text-primary mt-0.5 flex-shrink-0 transition-colors duration-300"}),e.jsx("span",{className:"text-sm",children:s})]},a))}),e.jsx(m,{className:"w-full group-hover:bg-primary group-hover:text-white transition-all duration-300",variant:"outline",children:"예약하기"})]})]})},s.productNo)})}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-12 text-center",children:e.jsx(o,{className:"max-w-3xl mx-auto bg-primary/5 border-primary/20",children:e.jsxs(d,{className:"p-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"맞춤 견적이 필요하신가요?"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"특별한 요구사항이나 대규모 프로젝트의 경우 무료 맞춤 견적을 제공해 드립니다."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(m,{size:"lg",children:"무료 견적 받기"}),e.jsx(m,{size:"lg",variant:"outline",children:"전화 상담: 1577-8282"})]})]})})})]})})});export{w as default};
